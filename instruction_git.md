# **Инструкция по работе с Git**

![Логотип](git.png)

## Что такое Git

Git - это консольная утилита для отслеживания и ведения истории изменения файлов. Чаще всего его используют для кода, но можно и для других файлов.

С помощью git можно откатить проект до более старой версии, сравнивать, анализировать или сливать изменения в репозиторий.

    Репозиторием называют хранилище кода и историю его изменений. Git работает локально и все репозитории хранятся в определенных папках на жестком диске. Также репозитории можно хранить и в интернете. Обычно для этого используют специальные сервисы.

Каждая точка сохранения проекта носит название коммит (commit). У каждого commit-a есть hash (уникальный id) и комментарий. Из таких commit-ов собирается ветка. 

    Ветка - это история изменений. У каждой ветки есть свое название. 

Репозиторий может содержать в себе несколько веток, которые создаются из других веток или вливаются в них.

В этой инструкции речь пойдет об основных командах git, а также о ветках и работе с ними.

## Проверка версии

Чтобы проверить, какая версия git установлена на компьютере, используй команду:

    git --version

## Создание локального репозитория

Для того чтобы создать (инициализировать) локальный репозиторий необходимо в терминале, находясь в папке проекта, набрать команду:

    git init

## Проверка состояния репозитория

Чтобы проверить состояние репозитория используй команду:

    git status

*Для быстрого перемещения между командами можно использовать в окне терминала стрелки "вверх" и "вниз" на клавиатуре.*

## Добавление в индекс

Чтобы добавить файл в индекс и git начал его отслеживать, используй команду:

    git add имя_файла

Эту команду используй и когда хочешь сохранить изменения в уже отслеживаемом файле, а уже после применяй commit. *Чтобы быстро ввести имя файла, начни писать название и используй табуляцию.*

## Создание коммита

Для сохранения/фиксации внесенных в файл изменений используй команду:

    git commit

Чтобы добавить комментарий к коммиту прямо в терминале и не переходя в другой текстовый редактор, используй команду:

    git commit -m "Текст комментария"

*Для первого коммита инициализации используй комментарий "Init commit".*

Если хочешь в одной команде совместить и commit, и add, используй команду:

    git commit -a

А чтобы к предыдущей команде добавить сразу и комментарий, используй:

    git commit -am "Текст комментария"

*При создании коммита применяй принцип атомарности: в один комминт - один набор смысловых изменений.*

## История изменений

Чтобы просмотреть все созданные коммиты, используй команду:

    git log

Чтобы увидеть сокращенный вариант истории, без лишних данных о дате, имени влдаельца изменений и т.п., используй команду:

    git log --oneline

Чтобы посмотреть все созданные коммиты при перемещении по ним с применением checkout, используй комманду:

    git log --oneline --all

*Если коммитов много и все сразу не видно, используй стрелку "вниз" на клавиатуре, чтобы увидеть все коммиты.*

## Просмотр отдельных коммитов

Для просмотра отдельного коммита используй команду:

    git checkout номер_коммита

*Для перехода к нужному коммиту достаточно первых 5 знаков его номера.*

Для перехода к текущему главному коммиту используй команду:

    git checkout master

*Всегда возвращайся к коммиту master, чтобы не наплодить ненужных веток.*

## Просмотр и сравнение изменений

Чтобы увидеть и сравнить изменения в закоммиченом и текущем сохраненном файле, используй команду:

    git diff

Чтобы сравнить два коммита, используй команду:

    git diff номер_первого_коммита номер_второго_коммита

*Порядорк указания номеров коммита имеет значение - git сравнит первый со вторым.*

## Другие полезные функции и фишки для работы с git

Чтобы очистить терминал, используй команду:

    clear

Чтобы представиться гиту и сохранить эту подпись на все папки в компьютере, используй команду:

    git config --global ...(далее user.name "..." или user.email "...")

Для просмотра справки используй команду:

    git help

Для просмотра справки для конкретной функции добавь к предыдущей команде имя этой функции, например:

    git help add

Для сохранения файла на маке используй сочетание клавиш:

    command+S

**Помни, что git - это про движение вперед. Поэтому не удаляй ошибку, а перезапиши, чтобы сохранить хронологию событий.**

## Ветвления

В Git ветки — это элемент повседневного процесса разработки. Если нужно добавить новую возможность или исправить ошибку (незначительную или серьезную), можно создать новую ветку, в которой будут размещаться эти изменения. После завершения работы ветку можно слить с основной.

### Создание новой ветки

Чтобы создать новую ветку, необходимо в терминале ввести команду:

    git branch <branch_name>

Где <branch_name> - это имя новой ветки. Эта команда *__не__* выполняет переключение на эту новую ветку.

### Переход с одной ветки на другую

Чтобы увидеть все существующие ветки, введи в терминале команду:

    git branch

Звездочкой <*> и зеленым цветом будет выделена текущая выбранная ветка.

Для перехода на другую ветку используй команду:

    git checkout <branch_name>

### Слияние веток

Слияние веток позволяет объединить информацию из двух веток в одной. Для слияния используй команду:

    git merge <branch_name>

Для слияния обязательно перейди в принимающую ветку, а <branch_name> - это имя ветки-источника. Если конфликта при слиянии нет, то git автоматически добавит нужную информацию и закоммитит изменения. Если конфликт есть - читай инстуркцию ниже.

### Разрешение конфликтов при слиянии веток

Если при слиянии веток в Visual Studio Code происходит конфликт, система предлагает выбрать варианты:

* Оставить текущий вариант
* Оставить входящий вариант
* Оставить оба варианта
* Сравнить варианты

Выбирай тот, который подходит тебе.

![Пример конфликта](conflict.png)

### Удаление веток

После слияния удаляй ненужные ветки командой:

    git branch -d <branch_name>

Удаление веток позволяет не путаться, лог выглядит красивее и дальнейшая работа становится удобней.